% We use a custom preamble file to organise all the
%   packages and their configurations
\ProvidesPackage{diss}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%             Useful packages                            %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[subpreambles=true]{standalone} 
\usepackage{import}

% Useful math packages
\usepackage{amsmath}
\usepackage{blkarray} 
\usepackage{textcomp} 
\usepackage{amssymb}
\usepackage{stackengine}
\usepackage{squig} % Custom .sty file
\usepackage{amsthm} 
\newtheorem{definition}{Definition}

\usepackage[final]{pdfpages} 
% Pseudo-code
\usepackage[linesnumbered,ruled]{algorithm2e}
\newcommand\bluecomm[1]{\ttfamily\textcolor{blue}{#1}}
\newcommand\blackcomm[1]{\ttfamily{#1}}
\newcommand\tcpp[1]{\SetCommentSty{bluecomm}\tcp{#1}\SetCommentSty{blackcomm}}
% figures on side of text
\usepackage{wrapfig} 
% Nice tables
\usepackage{booktabs}
\usepackage{longtable} 
% citations
\usepackage[square,numbers]{natbib} 
% for verbatim in footnotes
\usepackage{fancyvrb} 
\VerbatimFootnotes
% directory tree
\usepackage{forest,adjustbox} 

\usepackage[margin=20mm]{geometry}  % adjusts page layout
\usepackage{array}
\usepackage{graphicx,color,transparent}  % allows inclusion of PDF, PNG and JPG images
\graphicspath{./figs/}
\graphicspath{./inkscape-diagrams/}
\usepackage{subfigure}
\usepackage{verbatim}
\usepackage{docmute}   % only needed to allow inclusion of proposal.tex

\usepackage{parskip} 

% For handling multiple files
\usepackage{subfiles}
% Acronyms
\usepackage{acronym} 
% Allow both upper- and lower case acronyms:
%  https://tex.stackexchange.com/questions/70875/how-to-render-individual-acronyms-in-lower-case-when-used-inline-but-mixed-case
%  Usage:
%    \acro{DC}{\LU{D}{d}irect current}
%    \ac{DC} \AC{DC}
\usepackage{etoolbox}
\makeatletter
\newif\if@in@acrolist
\AtBeginEnvironment{acronym}{\@in@acrolisttrue}
\newrobustcmd{\LU}[2]{\if@in@acrolist#1\else#2\fi}
\newcommand{\ACF}[1]{{\@in@acrolisttrue\acf{#1}}}
\makeatother

\usepackage[pdfborder={0 0 0}]{hyperref}    % turns references into hyperlinks
\usepackage[nameinlink,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%               Other configurations                     %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make
%                                         % more readable

% Use the setspace package instead because it only affects text
\usepackage{setspace} 
\onehalfspacing
% % Makes text nicer to read
\usepackage[activate={true,nocompatibility}, % > activate protrusion and expansion
    final,          % > enable microtype; use "draft" to disable
    tracking=true,  % v
    kerning=true,   % v
    spacing=true,   % > activate these techniques
    factor=1100,    % > add 10% to the protrusion amount (default is 1000)
    stretch=10,     % v
    shrink=10,      % > reduce stretchability/shrinkability (default is 20/20) 
]{microtype}
\microtypecontext{spacing=nonfrench}

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

% Forest styling, see Gonzalo Medina's answer in
%   https://tex.stackexchange.com/questions/5073/making-a-simple-directory-tree
\forestset{
    dirtree/.style={
        baseline,
        for tree={
            font=\ttfamily,
            grow'=0,
            child anchor=west,
            parent anchor=south,
            anchor=west,
            calign=first,
            edge path={
                \noexpand\path [draw, \forestoption{edge}]
                (!u.south west) +(7.5pt,0) |- node[fill,inner sep=1.25pt] {} (.child anchor)\forestoption{edge label};
            },
            before typesetting nodes={
                if n=1
                {insert before={[,phantom]}}
                {}
            },
            fit=band,
            before computing xy={l=15pt},
            align=left,
            inner xsep=1.5pt,
            inner ysep=-3pt,
        }
    },
    dots/.style={for tree={
        anchor=north,
        child anchor=north,
        parent anchor=north,
        edge path={
            \noexpand\path [draw, \forestoption{edge}]
            (!u.south west) +(7.5pt,0) -- node[inner sep=1.25pt] {} (.parent anchor)\forestoption{edge label};
        },
        before computing xy={l=7.5pt},
    }}
}
\usepackage{flexisym} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%                 Definitions                            %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\authorname{Marcus A.\ K.\ September\xspace}
\def\candidatenumber{2406F\xspace}
\def\authorcollege{Clare College\xspace}
\def\authoremail{maks2@cam.ac.uk}
\def\dissertationtitle{A parallel algorithm for all-pairs shortest paths that minimises data movement}
\def\originator{Dr J.\ Modi}
\def\supervisor{Dr J.\ Modi}
\def\dos{Prof L.\ C.\ Paulson}

\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}

\def\erdos{Erd\H{o}s-R{\'e}nyi\xspace}
